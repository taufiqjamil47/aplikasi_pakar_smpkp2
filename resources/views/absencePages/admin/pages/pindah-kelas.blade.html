

<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Sistem Pemindahan Siswa Antar Kelas</title>
        <script src="https://cdn.tailwindcss.com"></script>
        <style>
        .draggable {
            cursor: grab;
            transition: transform 0.1s, box-shadow 0.1s;
        }
        .draggable:active {
            cursor: grabbing;
        }
        .draggable.dragging {
            opacity: 0.8;
            transform: scale(1.02);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            z-index: 100;
        }
        .drop-zone {
            transition: background-color 0.2s;
        }
        .drop-zone.drag-over {
            background-color: rgba(59, 130, 246, 0.1);
        }
        .student-card {
            animation: fadeIn 0.3s ease-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .history-item {
            animation: slideIn 0.3s ease-out;
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-10px); }
            to { opacity: 1; transform: translateX(0); }
        }
    </style>
    </head>
    <body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen">
        <div class="container mx-auto px-4 py-8">
            <header class="mb-8 text-center">
                <h1 class="text-3xl font-bold text-indigo-800">Sistem Pemindahan
                    Siswa Antar Kelas</h1>
                <p class="text-gray-600 mt-2">Drag dan drop siswa untuk
                    memindahkan mereka ke kelas lain</p>
            </header>

            <div class="flex flex-col lg:flex-row gap-6">
                <!-- Class Management Section -->
                <div class="lg:w-3/4">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <!-- Class 7A -->
                        <div
                            class="bg-white rounded-lg shadow-lg overflow-hidden">
                            <div
                                class="bg-indigo-600 text-white px-4 py-3 flex justify-between items-center">
                                <h2 class="text-xl font-bold">Kelas 7A</h2>
                                <span
                                    class="bg-white text-indigo-600 px-2 py-1 rounded-full text-sm font-bold student-count-7A">6
                                    Siswa</span>
                            </div>
                            <div class="p-4 drop-zone" data-class="7A"
                                id="class-7A">
                                <div
                                    class="draggable student-card bg-white border border-gray-200 rounded-md p-3 mb-2 flex items-center shadow-sm"
                                    draggable="true" data-student-id="1"
                                    data-student-name="Ahmad Rizki"
                                    data-class="7A">
                                    <div
                                        class="w-8 h-8 rounded-full bg-indigo-500 text-white flex items-center justify-center mr-3">AR</div>
                                    <div>
                                        <h3 class="font-medium">Ahmad Rizki</h3>
                                        <p class="text-xs text-gray-500">NIS:
                                            2023001</p>
                                    </div>
                                </div>
                                <div
                                    class="draggable student-card bg-white border border-gray-200 rounded-md p-3 mb-2 flex items-center shadow-sm"
                                    draggable="true" data-student-id="2"
                                    data-student-name="Budi Santoso"
                                    data-class="7A">
                                    <div
                                        class="w-8 h-8 rounded-full bg-indigo-500 text-white flex items-center justify-center mr-3">BS</div>
                                    <div>
                                        <h3 class="font-medium">Budi
                                            Santoso</h3>
                                        <p class="text-xs text-gray-500">NIS:
                                            2023002</p>
                                    </div>
                                </div>
                                <div
                                    class="draggable student-card bg-white border border-gray-200 rounded-md p-3 mb-2 flex items-center shadow-sm"
                                    draggable="true" data-student-id="3"
                                    data-student-name="Citra Dewi"
                                    data-class="7A">
                                    <div
                                        class="w-8 h-8 rounded-full bg-indigo-500 text-white flex items-center justify-center mr-3">CD</div>
                                    <div>
                                        <h3 class="font-medium">Citra Dewi</h3>
                                        <p class="text-xs text-gray-500">NIS:
                                            2023003</p>
                                    </div>
                                </div>
                                <div
                                    class="draggable student-card bg-white border border-gray-200 rounded-md p-3 mb-2 flex items-center shadow-sm"
                                    draggable="true" data-student-id="4"
                                    data-student-name="Dian Purnama"
                                    data-class="7A">
                                    <div
                                        class="w-8 h-8 rounded-full bg-indigo-500 text-white flex items-center justify-center mr-3">DP</div>
                                    <div>
                                        <h3 class="font-medium">Dian
                                            Purnama</h3>
                                        <p class="text-xs text-gray-500">NIS:
                                            2023004</p>
                                    </div>
                                </div>
                                <div
                                    class="draggable student-card bg-white border border-gray-200 rounded-md p-3 mb-2 flex items-center shadow-sm"
                                    draggable="true" data-student-id="5"
                                    data-student-name="Eko Prasetyo"
                                    data-class="7A">
                                    <div
                                        class="w-8 h-8 rounded-full bg-indigo-500 text-white flex items-center justify-center mr-3">EP</div>
                                    <div>
                                        <h3 class="font-medium">Eko
                                            Prasetyo</h3>
                                        <p class="text-xs text-gray-500">NIS:
                                            2023005</p>
                                    </div>
                                </div>
                                <div
                                    class="draggable student-card bg-white border border-gray-200 rounded-md p-3 mb-2 flex items-center shadow-sm"
                                    draggable="true" data-student-id="6"
                                    data-student-name="Fitri Handayani"
                                    data-class="7A">
                                    <div
                                        class="w-8 h-8 rounded-full bg-indigo-500 text-white flex items-center justify-center mr-3">FH</div>
                                    <div>
                                        <h3 class="font-medium">Fitri
                                            Handayani</h3>
                                        <p class="text-xs text-gray-500">NIS:
                                            2023006</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Class 7B -->
                        <div
                            class="bg-white rounded-lg shadow-lg overflow-hidden">
                            <div
                                class="bg-purple-600 text-white px-4 py-3 flex justify-between items-center">
                                <h2 class="text-xl font-bold">Kelas 7B</h2>
                                <span
                                    class="bg-white text-purple-600 px-2 py-1 rounded-full text-sm font-bold student-count-7B">5
                                    Siswa</span>
                            </div>
                            <div class="p-4 drop-zone" data-class="7B"
                                id="class-7B">
                                <div
                                    class="draggable student-card bg-white border border-gray-200 rounded-md p-3 mb-2 flex items-center shadow-sm"
                                    draggable="true" data-student-id="7"
                                    data-student-name="Galih Pratama"
                                    data-class="7B">
                                    <div
                                        class="w-8 h-8 rounded-full bg-purple-500 text-white flex items-center justify-center mr-3">GP</div>
                                    <div>
                                        <h3 class="font-medium">Galih
                                            Pratama</h3>
                                        <p class="text-xs text-gray-500">NIS:
                                            2023007</p>
                                    </div>
                                </div>
                                <div
                                    class="draggable student-card bg-white border border-gray-200 rounded-md p-3 mb-2 flex items-center shadow-sm"
                                    draggable="true" data-student-id="8"
                                    data-student-name="Hana Safira"
                                    data-class="7B">
                                    <div
                                        class="w-8 h-8 rounded-full bg-purple-500 text-white flex items-center justify-center mr-3">HS</div>
                                    <div>
                                        <h3 class="font-medium">Hana Safira</h3>
                                        <p class="text-xs text-gray-500">NIS:
                                            2023008</p>
                                    </div>
                                </div>
                                <div
                                    class="draggable student-card bg-white border border-gray-200 rounded-md p-3 mb-2 flex items-center shadow-sm"
                                    draggable="true" data-student-id="9"
                                    data-student-name="Irfan Hakim"
                                    data-class="7B">
                                    <div
                                        class="w-8 h-8 rounded-full bg-purple-500 text-white flex items-center justify-center mr-3">IH</div>
                                    <div>
                                        <h3 class="font-medium">Irfan Hakim</h3>
                                        <p class="text-xs text-gray-500">NIS:
                                            2023009</p>
                                    </div>
                                </div>
                                <div
                                    class="draggable student-card bg-white border border-gray-200 rounded-md p-3 mb-2 flex items-center shadow-sm"
                                    draggable="true" data-student-id="10"
                                    data-student-name="Jihan Aulia"
                                    data-class="7B">
                                    <div
                                        class="w-8 h-8 rounded-full bg-purple-500 text-white flex items-center justify-center mr-3">JA</div>
                                    <div>
                                        <h3 class="font-medium">Jihan Aulia</h3>
                                        <p class="text-xs text-gray-500">NIS:
                                            2023010</p>
                                    </div>
                                </div>
                                <div
                                    class="draggable student-card bg-white border border-gray-200 rounded-md p-3 mb-2 flex items-center shadow-sm"
                                    draggable="true" data-student-id="11"
                                    data-student-name="Kevin Wijaya"
                                    data-class="7B">
                                    <div
                                        class="w-8 h-8 rounded-full bg-purple-500 text-white flex items-center justify-center mr-3">KW</div>
                                    <div>
                                        <h3 class="font-medium">Kevin
                                            Wijaya</h3>
                                        <p class="text-xs text-gray-500">NIS:
                                            2023011</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Class 7C -->
                        <div
                            class="bg-white rounded-lg shadow-lg overflow-hidden">
                            <div
                                class="bg-teal-600 text-white px-4 py-3 flex justify-between items-center">
                                <h2 class="text-xl font-bold">Kelas 7C</h2>
                                <span
                                    class="bg-white text-teal-600 px-2 py-1 rounded-full text-sm font-bold student-count-7C">4
                                    Siswa</span>
                            </div>
                            <div class="p-4 drop-zone" data-class="7C"
                                id="class-7C">
                                <div
                                    class="draggable student-card bg-white border border-gray-200 rounded-md p-3 mb-2 flex items-center shadow-sm"
                                    draggable="true" data-student-id="12"
                                    data-student-name="Laras Ayu"
                                    data-class="7C">
                                    <div
                                        class="w-8 h-8 rounded-full bg-teal-500 text-white flex items-center justify-center mr-3">LA</div>
                                    <div>
                                        <h3 class="font-medium">Laras Ayu</h3>
                                        <p class="text-xs text-gray-500">NIS:
                                            2023012</p>
                                    </div>
                                </div>
                                <div
                                    class="draggable student-card bg-white border border-gray-200 rounded-md p-3 mb-2 flex items-center shadow-sm"
                                    draggable="true" data-student-id="13"
                                    data-student-name="Maulana Ibrahim"
                                    data-class="7C">
                                    <div
                                        class="w-8 h-8 rounded-full bg-teal-500 text-white flex items-center justify-center mr-3">MI</div>
                                    <div>
                                        <h3 class="font-medium">Maulana
                                            Ibrahim</h3>
                                        <p class="text-xs text-gray-500">NIS:
                                            2023013</p>
                                    </div>
                                </div>
                                <div
                                    class="draggable student-card bg-white border border-gray-200 rounded-md p-3 mb-2 flex items-center shadow-sm"
                                    draggable="true" data-student-id="14"
                                    data-student-name="Nadia Putri"
                                    data-class="7C">
                                    <div
                                        class="w-8 h-8 rounded-full bg-teal-500 text-white flex items-center justify-center mr-3">NP</div>
                                    <div>
                                        <h3 class="font-medium">Nadia Putri</h3>
                                        <p class="text-xs text-gray-500">NIS:
                                            2023014</p>
                                    </div>
                                </div>
                                <div
                                    class="draggable student-card bg-white border border-gray-200 rounded-md p-3 mb-2 flex items-center shadow-sm"
                                    draggable="true" data-student-id="15"
                                    data-student-name="Oscar Ramadhan"
                                    data-class="7C">
                                    <div
                                        class="w-8 h-8 rounded-full bg-teal-500 text-white flex items-center justify-center mr-3">OR</div>
                                    <div>
                                        <h3 class="font-medium">Oscar
                                            Ramadhan</h3>
                                        <p class="text-xs text-gray-500">NIS:
                                            2023015</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Class 7D -->
                        <div
                            class="bg-white rounded-lg shadow-lg overflow-hidden">
                            <div
                                class="bg-amber-600 text-white px-4 py-3 flex justify-between items-center">
                                <h2 class="text-xl font-bold">Kelas 7D</h2>
                                <span
                                    class="bg-white text-amber-600 px-2 py-1 rounded-full text-sm font-bold student-count-7D">3
                                    Siswa</span>
                            </div>
                            <div class="p-4 drop-zone" data-class="7D"
                                id="class-7D">
                                <div
                                    class="draggable student-card bg-white border border-gray-200 rounded-md p-3 mb-2 flex items-center shadow-sm"
                                    draggable="true" data-student-id="16"
                                    data-student-name="Putri Anindya"
                                    data-class="7D">
                                    <div
                                        class="w-8 h-8 rounded-full bg-amber-500 text-white flex items-center justify-center mr-3">PA</div>
                                    <div>
                                        <h3 class="font-medium">Putri
                                            Anindya</h3>
                                        <p class="text-xs text-gray-500">NIS:
                                            2023016</p>
                                    </div>
                                </div>
                                <div
                                    class="draggable student-card bg-white border border-gray-200 rounded-md p-3 mb-2 flex items-center shadow-sm"
                                    draggable="true" data-student-id="17"
                                    data-student-name="Qori Ramadhani"
                                    data-class="7D">
                                    <div
                                        class="w-8 h-8 rounded-full bg-amber-500 text-white flex items-center justify-center mr-3">QR</div>
                                    <div>
                                        <h3 class="font-medium">Qori
                                            Ramadhani</h3>
                                        <p class="text-xs text-gray-500">NIS:
                                            2023017</p>
                                    </div>
                                </div>
                                <div
                                    class="draggable student-card bg-white border border-gray-200 rounded-md p-3 mb-2 flex items-center shadow-sm"
                                    draggable="true" data-student-id="18"
                                    data-student-name="Reza Mahendra"
                                    data-class="7D">
                                    <div
                                        class="w-8 h-8 rounded-full bg-amber-500 text-white flex items-center justify-center mr-3">RM</div>
                                    <div>
                                        <h3 class="font-medium">Reza
                                            Mahendra</h3>
                                        <p class="text-xs text-gray-500">NIS:
                                            2023018</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Activity Log Section -->
                <div class="lg:w-1/4">
                    <div class="bg-white rounded-lg shadow-lg overflow-hidden">
                        <div class="bg-gray-800 text-white px-4 py-3">
                            <h2 class="text-xl font-bold">Riwayat Aktivitas</h2>
                        </div>
                        <div class="p-4 max-h-[500px] overflow-y-auto"
                            id="activity-log">
                            <div
                                class="text-gray-500 text-center text-sm italic">
                                Belum ada aktivitas pemindahan siswa
                            </div>
                        </div>
                        <div class="bg-gray-100 p-4 border-t">
                            <button id="clear-history"
                                class="w-full bg-gray-200 hover:bg-gray-300 text-gray-700 font-medium py-2 px-4 rounded transition-colors">
                                Bersihkan Riwayat
                            </button>
                        </div>
                    </div>

                    <div
                        class="bg-white rounded-lg shadow-lg overflow-hidden mt-6">
                        <div class="bg-gray-800 text-white px-4 py-3">
                            <h2 class="text-xl font-bold">Statistik Kelas</h2>
                        </div>
                        <div class="p-4">
                            <div class="mb-4">
                                <div class="flex justify-between mb-1">
                                    <span class="text-sm font-medium">Kelas
                                        7A</span>
                                    <span
                                        class="text-sm font-medium text-indigo-600 student-count-7A">6
                                        Siswa</span>
                                </div>
                                <div
                                    class="w-full bg-gray-200 rounded-full h-2">
                                    <div class="bg-indigo-600 h-2 rounded-full"
                                        id="progress-7A"
                                        style="width: 33%"></div>
                                </div>
                            </div>
                            <div class="mb-4">
                                <div class="flex justify-between mb-1">
                                    <span class="text-sm font-medium">Kelas
                                        7B</span>
                                    <span
                                        class="text-sm font-medium text-purple-600 student-count-7B">5
                                        Siswa</span>
                                </div>
                                <div
                                    class="w-full bg-gray-200 rounded-full h-2">
                                    <div class="bg-purple-600 h-2 rounded-full"
                                        id="progress-7B"
                                        style="width: 28%"></div>
                                </div>
                            </div>
                            <div class="mb-4">
                                <div class="flex justify-between mb-1">
                                    <span class="text-sm font-medium">Kelas
                                        7C</span>
                                    <span
                                        class="text-sm font-medium text-teal-600 student-count-7C">4
                                        Siswa</span>
                                </div>
                                <div
                                    class="w-full bg-gray-200 rounded-full h-2">
                                    <div class="bg-teal-600 h-2 rounded-full"
                                        id="progress-7C"
                                        style="width: 22%"></div>
                                </div>
                            </div>
                            <div class="mb-4">
                                <div class="flex justify-between mb-1">
                                    <span class="text-sm font-medium">Kelas
                                        7D</span>
                                    <span
                                        class="text-sm font-medium text-amber-600 student-count-7D">3
                                        Siswa</span>
                                </div>
                                <div
                                    class="w-full bg-gray-200 rounded-full h-2">
                                    <div class="bg-amber-600 h-2 rounded-full"
                                        id="progress-7D"
                                        style="width: 17%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <script>
        document.addEventListener('DOMContentLoaded', function() {
            const draggables = document.querySelectorAll('.draggable');
            const dropZones = document.querySelectorAll('.drop-zone');
            const activityLog = document.getElementById('activity-log');
            const clearHistoryBtn = document.getElementById('clear-history');
            let draggedElement = null;

            // Initialize draggable elements
            draggables.forEach(draggable => {
                draggable.addEventListener('dragstart', function(e) {
                    draggedElement = this;
                    this.classList.add('dragging');
                    e.dataTransfer.setData('text/plain', this.dataset.studentId);
                    
                    // Delay adding opacity to make drag image visible
                    setTimeout(() => {
                        this.style.opacity = '0.4';
                    }, 0);
                });

                draggable.addEventListener('dragend', function() {
                    this.classList.remove('dragging');
                    this.style.opacity = '1';
                    draggedElement = null;
                });
            });

            // Initialize drop zones
            dropZones.forEach(zone => {
                zone.addEventListener('dragover', function(e) {
                    e.preventDefault();
                    this.classList.add('drag-over');
                });

                zone.addEventListener('dragleave', function() {
                    this.classList.remove('drag-over');
                });

                zone.addEventListener('drop', function(e) {
                    e.preventDefault();
                    this.classList.remove('drag-over');
                    
                    if (!draggedElement) return;
                    
                    const sourceClass = draggedElement.dataset.class;
                    const targetClass = this.dataset.class;
                    
                    // Only proceed if dropping to a different class
                    if (sourceClass !== targetClass) {
                        const studentName = draggedElement.dataset.studentName;
                        
                        // Move the student card
                        this.appendChild(draggedElement);
                        
                        // Update student's class data
                        draggedElement.dataset.class = targetClass;
                        
                        // Log the activity
                        addActivityLog(studentName, sourceClass, targetClass);
                        
                        // Update class counts and progress bars
                        updateClassStats();
                    }
                });
            });

            // Clear history button
            clearHistoryBtn.addEventListener('click', function() {
                activityLog.innerHTML = `
                    <div class="text-gray-500 text-center text-sm italic">
                        Belum ada aktivitas pemindahan siswa
                    </div>
                `;
            });

            // Function to add activity to the log
            function addActivityLog(studentName, fromClass, toClass) {
                // Remove the "no activity" message if it exists
                const noActivity = activityLog.querySelector('.text-gray-500.text-center');
                if (noActivity) {
                    activityLog.removeChild(noActivity);
                }
                
                const now = new Date();
                const timeString = now.toLocaleTimeString('id-ID', { hour: '2-digit', minute: '2-digit' });
                
                const logItem = document.createElement('div');
                logItem.className = 'history-item mb-3 pb-3 border-b border-gray-100 last:border-0';
                logItem.innerHTML = `
                    <div class="flex items-start">
                        <div class="w-8 h-8 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center mr-3">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16l-4-4m0 0l4-4m-4 4h18" />
                            </svg>
                        </div>
                        <div class="flex-1">
                            <p class="text-sm">
                                <span class="font-medium">${studentName}</span> dipindahkan dari 
                                <span class="font-medium">Kelas ${fromClass}</span> ke 
                                <span class="font-medium">Kelas ${toClass}</span>
                            </p>
                            <p class="text-xs text-gray-500 mt-1">${timeString}</p>
                        </div>
                    </div>
                `;
                
                activityLog.prepend(logItem);
            }

            // Function to update class statistics
            function updateClassStats() {
                const classes = ['7A', '7B', '7C', '7D'];
                const totalStudents = document.querySelectorAll('.draggable').length;
                
                classes.forEach(className => {
                    const studentsInClass = document.querySelectorAll(`.draggable[data-class="${className}"]`).length;
                    const percentage = (studentsInClass / totalStudents) * 100;
                    
                    // Update count labels
                    const countLabels = document.querySelectorAll(`.student-count-${className}`);
                    countLabels.forEach(label => {
                        label.textContent = `${studentsInClass} Siswa`;
                    });
                    
                    // Update progress bar
                    const progressBar = document.getElementById(`progress-${className}`);
                    progressBar.style.width = `${percentage}%`;
                });
            }

            // Initialize stats
            updateClassStats();
        });
    </script>
        <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'94d91322d5cd3e44',t:'MTc0OTU2MDY2OC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
